(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1222:function(e,t,o){var content=o(1228);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(115).default)("1b7833da",content,!0,{sourceMap:!1})},1224:function(e,t,o){e.exports=o.p+"img/logo.478df31.png"},1225:function(e,t,o){e.exports=o.p+"img/logo_background.fa1a8b8.png"},1227:function(e,t,o){"use strict";o(1222)},1228:function(e,t,o){var r=o(114)(!1);r.push([e.i,"#components-layout-demo-fixed .logo{margin-top:15px;height:32px;float:left}h3{color:#777}",""]),e.exports=r},1242:function(e,t,o){"use strict";o.r(t);var r=o(23),n=(o(67),o(68),o(1226)),l=[{title:"Time",dataIndex:"time"},{title:"Info",dataIndex:"info"},{title:"Income",className:"column-money",dataIndex:"income"}];function c(e){return Object.keys(e).some((function(t){return e[t]}))}var m={components:{Plotly:n.Plotly},data:function(){return{account:"",hasErrors:c,columns:l,form:this.$form.createForm(this,{name:"horizontal_login"}),viewStatus:"logout",info:{cumulated_income:0,cumulated_income_percentage:0,daily_income:0,estimate_yearly_return:0,estimate_yearly_return_percentage:0,capital:0,txns:[]},data:[{x:[],y:[],type:"scatter",line:{shape:"spline"},mode:"lines"}],layout:{yaxis:{tickformat:".1%",showgrid:!1,zeroline:!0,fixedrange:!0,zerolinecolor:"#eee",tickfont:{color:"#aaa"}},xaxis:{showgrid:!1,tickfont:{color:"#aaa"},fixedrange:!0},height:200,margin:{l:50,r:0,b:20,t:20,pad:4},autosize:!0,hovermode:!1}}},computed:{deadline:function(){var e=new Date,t=[],o=new Date;o.setHours(8,0,0,0),o>e&&t.push(o);var r=new Date;r.setHours(16,0,0,0),r>e&&t.push(r);var n=new Date;return n.setHours(0,0,0,0),n.setDate(e.getDate()+1),n>e&&t.push(n),console.log("arr",t),Math.min.apply(Math,t)}},mounted:function(){var e=this;this.$nextTick((function(){e.form.validateFields();var t=localStorage.getItem("account"),o=localStorage.getItem("password");null!==t&&e.account_login(t,o),document.querySelector("body").style.backgroundColor="#f0f2f5"}))},methods:{userNameError:function(){var e=this.form,t=e.getFieldError;return(0,e.isFieldTouched)("userName")&&t("userName")},passwordError:function(){var e=this.form,t=e.getFieldError;return(0,e.isFieldTouched)("password")&&t("password")},handleSubmit:function(e){e.preventDefault();var t=this;this.form.validateFields((function(e,o){e||t.account_login(o.userName,o.password)}))},account_login:function(e,t){var o=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var n,data,l,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o.account=e,localStorage.setItem("account",e),localStorage.setItem("password",t),n=o.$message.loading("正在登入..",0),o.viewStatus="loading",r.prev=4,r.next=7,o.$axios.$post("https://asia-east2-finlab-298104.cloudfunctions.net/function-2",{account:e,password:t});case 7:for(c in data=r.sent,console.log(data),o.$message.success("登入成功"),o.viewStatus="login",o.info=data,l=o.info.series["2021-09-01 11:00:08.598543"],o.info.series)o.data[0].x.push(c),o.data[0].y.push(o.info.series[c]/l-1);r.next=20;break;case 16:r.prev=16,r.t0=r.catch(4),o.$message.error("登入失敗"),o.viewStatus="logout";case 20:n();case 21:case"end":return r.stop()}}),r,null,[[4,16]])})))()},account_logout:function(){localStorage.removeItem("account"),localStorage.removeItem("password"),this.viewStatus="logout"}}},d=(o(1227),o(112)),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-layout",{attrs:{id:"components-layout-demo-fixed"}},[r("a-layout-header",{style:{position:"fixed",zIndex:1,width:"100%"}},[r("img",{staticClass:"logo",attrs:{src:o(1224)}}),e._v(" "),r("a-menu",{style:{lineHeight:"64px"},attrs:{theme:"dark",mode:"horizontal"}},[r("a-menu-item",{staticStyle:{float:"right"},on:{click:e.account_logout}},[e._v("\n        登出\n      ")])],1)],1),e._v(" "),r("a-layout-content",{style:{marginTop:"64px"}},[r("a-breadcrumb",{style:{margin:"16px 20px"}},[r("a-breadcrumb-item",[e._v("Profit Pocket")]),e._v(" "),r("a-breadcrumb-item",[e._v(e._s("login"===e.viewStatus?e.account:"Login"))])],1),e._v(" "),r("div",{style:{background:"#fff",padding:"3%",minHeight:"380px"}},[r("a-result",{directives:[{name:"show",rawName:"v-show",value:"logout"==e.viewStatus,expression:"viewStatus == 'logout'"}],attrs:{title:"Login to view your profit!"},scopedSlots:e._u([{key:"icon",fn:function(){return[r("a-icon",{attrs:{type:"smile",theme:"twoTone"}})]},proxy:!0},{key:"extra",fn:function(){return[r("a-form",{attrs:{layout:"inline",form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",{attrs:{"validate-status":e.userNameError()?"error":"",help:e.userNameError()||""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["userName",{rules:[{required:!0,message:"Please input your username!"}]}],expression:"[\n                  'userName',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: 'Please input your username!',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{placeholder:"Username"}},[r("a-icon",{staticStyle:{color:"rgba(0, 0, 0, 0.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),e._v(" "),r("a-form-item",{attrs:{"validate-status":e.passwordError()?"error":"",help:e.passwordError()||""}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"Please input your Password!"}]}],expression:"[\n                  'password',\n                  {\n                    rules: [\n                      {\n                        required: true,\n                        message: 'Please input your Password!',\n                      },\n                    ],\n                  },\n                ]"}],attrs:{type:"password",placeholder:"Password"}},[r("a-icon",{staticStyle:{color:"rgba(0, 0, 0, 0.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),e._v(" "),r("a-form-item",[r("a-button",{attrs:{type:"primary","html-type":"submit",disabled:e.hasErrors(e.form.getFieldsError())}},[e._v("\n                Log in\n              ")])],1)],1)]},proxy:!0}])}),e._v(" "),r("a-skeleton",{directives:[{name:"show",rawName:"v-show",value:"loading"==e.viewStatus,expression:"viewStatus == 'loading'"}],attrs:{active:""}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:"login"==e.viewStatus,expression:"viewStatus == 'login'"}]},[r("br"),e._v(" "),r("a-card",[r("a-row",[r("a-col",{attrs:{span:24}},[r("a-statistic",{attrs:{title:"總資產淨值",value:e.info.cumulated_income+e.info.capital,precision:2,suffix:"USDT ( ≈ NT $"+Math.round(28*(e.info.cumulated_income+e.info.capital))+")","value-style":{color:"#3f8600"}}})],1),e._v(" "),r("a-col",{staticStyle:{"margin-top":"32px"},attrs:{span:24}},[r("a-statistic",{attrs:{title:"近一天盈虧",value:e.info.daily_income,precision:2,suffix:"USDT ("+Math.round(e.info.daily_income/e.info.capital*1e5)/1e3+" %)","value-style":{color:e.info.daily_income>0?"#ff0062":"#3f8600"}},scopedSlots:e._u([{key:"prefix",fn:function(){return[r("a-icon",{attrs:{type:e.info.daily_income>0?"arrow-up":"arrow-down"}})]},proxy:!0}])})],1),e._v(" "),r("a-col",{staticStyle:{"margin-top":"32px"},attrs:{span:24}},[r("a-statistic",{attrs:{title:"累計盈虧",value:e.info.cumulated_income,precision:2,suffix:"USDT ("+Math.round(e.info.cumulated_income/e.info.capital*1e5)/1e3+" %)","value-style":{color:e.info.cumulated_income>0?"#ff0062":"#3f8600"}},scopedSlots:e._u([{key:"prefix",fn:function(){return[r("a-icon",{attrs:{type:e.info.cumulated_income>0?"arrow-up":"arrow-down"}})]},proxy:!0}])})],1),e._v(" "),r("a-col",{staticStyle:{"margin-top":"32px"},attrs:{span:24}},[r("a-statistic",{attrs:{title:"總投入資金",value:e.info.capital,suffix:"USDT"}})],1)],1),e._v(" "),r("br"),e._v(" "),r("p",[e._v("\n            USDT與新台幣換算請參考"),r("a",{attrs:{href:"https://max.maicoin.com/markets/usdttwd",target:"_blank"}},[e._v("MAX平台")]),e._v("。\n          ")])],1),e._v(" "),r("br"),e._v(" "),r("h3",[e._v("累計盈虧")]),e._v(" "),r("Plotly",{attrs:{data:e.data,layout:e.layout,config:{responsive:!0},"display-mode-bar":!1}})],1)],1)],1),e._v(" "),r("a-layout-footer",{style:{textAlign:"center",autosizable:!0}},[r("img",{attrs:{src:o(1225),width:"240"}})])],1)}),[],!1,null,null,null);t.default=component.exports}}]);